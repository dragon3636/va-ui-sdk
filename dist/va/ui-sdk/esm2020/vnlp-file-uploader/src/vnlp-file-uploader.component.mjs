import { Component, Output, EventEmitter, Input } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class VnlpFileUploaderComponent {
    constructor() {
        this.multiple = true;
        this.onChange = new EventEmitter();
        this.highlightDropzone = false;
        this.fileList = [];
    }
    handleFileInput({ files }) {
        this.fileList = Array.from(files);
        const exportFile = this.fileList.length === 1 ? this.fileList[0] : this.fileList;
        this.onChange.emit(exportFile);
    }
    handleDrop(event) {
        event.preventDefault();
        const dataTransfer = event.dataTransfer;
        if (dataTransfer) {
            this.fileList = Array.from(dataTransfer.files);
        }
        this.highlightDropzone = false;
    }
    handleDragOver(event) {
        event.target.classList.add('on-drag');
        event.preventDefault();
    }
    handleDragLeave(event) {
        event.target.classList.remove('on-drag');
        event.preventDefault();
    }
    formatSize(bytes) {
        const kb = bytes / 1024;
        const mb = bytes / 1024 / 1024;
        const gb = mb / 1024;
        if (kb < 100) {
            return kb.toFixed(0) + ' Kb';
        }
        else if (gb >= 1) {
            return gb.toFixed(1) + ' Gb';
        }
        else {
            return mb.toFixed(1) + ' Mb';
        }
    }
    deleteFile(file) {
        this.fileList = this.fileList.filter((f) => f.name !== file.name);
    }
}
VnlpFileUploaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: VnlpFileUploaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
VnlpFileUploaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: VnlpFileUploaderComponent, selector: "vnlp-file-uploader", inputs: { multiple: "multiple" }, outputs: { onChange: "onChange" }, ngImport: i0, template: "<label\r\n  for=\"fileInput\"\r\n  class=\"file-uploader-container\"\r\n  (drop)=\"handleDrop($event)\"\r\n  (dragover)=\"handleDragOver($event)\"\r\n  (dragleave)=\"handleDragLeave($event)\"\r\n>\r\n  <i class=\"icon icon-vnlp-icon-document-upload-linear\"></i>\r\n  <p class=\"file-label-text\">Drop file here or</p>\r\n  <span class=\"file-label\">Browse</span>\r\n  <input\r\n    type=\"file\"\r\n    id=\"fileInput\"\r\n    [multiple]=\"multiple\"\r\n    (change)=\"handleFileInput($event.target)\"\r\n    class=\"hidden\"\r\n  />\r\n</label>\r\n<div class=\"file-list\">\r\n  <div *ngFor=\"let file of fileList\" class=\"file-item\">\r\n    <span class=\"file-icon\">\r\n      <i class=\"icon-vnlp-icon-file-erase-line\"></i>\r\n    </span>\r\n    <span class=\"file-name\">{{ file.name }}</span>\r\n    <span class=\"file-size\">{{ formatSize(file.size) }}</span>\r\n    <span (click)=\"deleteFile(file)\" class=\"delete-icon\">\r\n      <i class=\"icon icon-vnlp-icon-close-circle-linear\"></i>\r\n    </span>\r\n  </div>\r\n</div>\r\n", styles: [".file-uploader-container{padding:32px;background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='10' ry='10' stroke='%23B1B5C3FF' stroke-width='2' stroke-dasharray='10' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\");border-radius:10px;width:172px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#777e90;transition:all .3s ease-in-out;cursor:pointer;background-color:#fff}.file-uploader-container:hover{box-shadow:0 0 1px 3px #e6e8ec}.file-uploader-container.on-drag{background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='10' ry='10' stroke='%23353945FF' stroke-width='1' stroke-dasharray='10' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\")}.file-uploader-container.on-error{background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='10' ry='10' stroke='%23FB1B3CFF' stroke-width='1' stroke-dasharray='10' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\")}.file-uploader-container .file-label-text{font-size:14px;margin-bottom:4px}.file-uploader-container .file-label{font-size:14px;color:#007df9;text-decoration:underline;text-underline-offset:2px;cursor:pointer}.file-list{min-width:92px;margin-top:36px}.file-list .file-item{display:flex;align-items:center;margin-bottom:8px;padding:12px 14px;background-color:#fff;border-radius:10px;border:1px solid #e6e8ec}.file-list .file-item .file-icon{color:#007df9;margin-right:8px}.file-list .file-item .file-name{font-size:14px;color:#141416;margin-right:16px;max-width:100px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-list .file-item .file-size{font-size:14px;color:#777e90;margin-left:auto}.file-list .file-item .delete-icon{cursor:pointer;color:#777e90}\n"], dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: VnlpFileUploaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'vnlp-file-uploader', template: "<label\r\n  for=\"fileInput\"\r\n  class=\"file-uploader-container\"\r\n  (drop)=\"handleDrop($event)\"\r\n  (dragover)=\"handleDragOver($event)\"\r\n  (dragleave)=\"handleDragLeave($event)\"\r\n>\r\n  <i class=\"icon icon-vnlp-icon-document-upload-linear\"></i>\r\n  <p class=\"file-label-text\">Drop file here or</p>\r\n  <span class=\"file-label\">Browse</span>\r\n  <input\r\n    type=\"file\"\r\n    id=\"fileInput\"\r\n    [multiple]=\"multiple\"\r\n    (change)=\"handleFileInput($event.target)\"\r\n    class=\"hidden\"\r\n  />\r\n</label>\r\n<div class=\"file-list\">\r\n  <div *ngFor=\"let file of fileList\" class=\"file-item\">\r\n    <span class=\"file-icon\">\r\n      <i class=\"icon-vnlp-icon-file-erase-line\"></i>\r\n    </span>\r\n    <span class=\"file-name\">{{ file.name }}</span>\r\n    <span class=\"file-size\">{{ formatSize(file.size) }}</span>\r\n    <span (click)=\"deleteFile(file)\" class=\"delete-icon\">\r\n      <i class=\"icon icon-vnlp-icon-close-circle-linear\"></i>\r\n    </span>\r\n  </div>\r\n</div>\r\n", styles: [".file-uploader-container{padding:32px;background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='10' ry='10' stroke='%23B1B5C3FF' stroke-width='2' stroke-dasharray='10' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\");border-radius:10px;width:172px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#777e90;transition:all .3s ease-in-out;cursor:pointer;background-color:#fff}.file-uploader-container:hover{box-shadow:0 0 1px 3px #e6e8ec}.file-uploader-container.on-drag{background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='10' ry='10' stroke='%23353945FF' stroke-width='1' stroke-dasharray='10' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\")}.file-uploader-container.on-error{background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='10' ry='10' stroke='%23FB1B3CFF' stroke-width='1' stroke-dasharray='10' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\")}.file-uploader-container .file-label-text{font-size:14px;margin-bottom:4px}.file-uploader-container .file-label{font-size:14px;color:#007df9;text-decoration:underline;text-underline-offset:2px;cursor:pointer}.file-list{min-width:92px;margin-top:36px}.file-list .file-item{display:flex;align-items:center;margin-bottom:8px;padding:12px 14px;background-color:#fff;border-radius:10px;border:1px solid #e6e8ec}.file-list .file-item .file-icon{color:#007df9;margin-right:8px}.file-list .file-item .file-name{font-size:14px;color:#141416;margin-right:16px;max-width:100px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-list .file-item .file-size{font-size:14px;color:#777e90;margin-left:auto}.file-list .file-item .delete-icon{cursor:pointer;color:#777e90}\n"] }]
        }], propDecorators: { multiple: [{
                type: Input
            }], onChange: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5scC1maWxlLXVwbG9hZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3ZhL3VpLXNkay92bmxwLWZpbGUtdXBsb2FkZXIvc3JjL3ZubHAtZmlsZS11cGxvYWRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy92YS91aS1zZGsvdm5scC1maWxlLXVwbG9hZGVyL3NyYy92bmxwLWZpbGUtdXBsb2FkZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQzs7O0FBT3ZFLE1BQU0sT0FBTyx5QkFBeUI7SUFMdEM7UUFNVyxhQUFRLEdBQVksSUFBSSxDQUFDO1FBQ3hCLGFBQVEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3hDLHNCQUFpQixHQUFHLEtBQUssQ0FBQztRQUMxQixhQUFRLEdBQVcsRUFBRSxDQUFDO0tBNkN2QjtJQTNDQyxlQUFlLENBQUMsRUFBRSxLQUFLLEVBQU87UUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xDLE1BQU0sVUFBVSxHQUNkLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUNoRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsVUFBVSxDQUFDLEtBQWdCO1FBQ3pCLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QixNQUFNLFlBQVksR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDO1FBQ3hDLElBQUksWUFBWSxFQUFFO1lBQ2hCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDaEQ7UUFDRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxjQUFjLENBQUMsS0FBVTtRQUN2QixLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxlQUFlLENBQUMsS0FBVTtRQUN4QixLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBYTtRQUN0QixNQUFNLEVBQUUsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLE1BQU0sRUFBRSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQy9CLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFFckIsSUFBSSxFQUFFLEdBQUcsR0FBRyxFQUFFO1lBQ1osT0FBTyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztTQUM5QjthQUFNLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRTtZQUNsQixPQUFPLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQzlCO2FBQU07WUFDTCxPQUFPLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQzlCO0lBQ0gsQ0FBQztJQUVELFVBQVUsQ0FBQyxJQUFTO1FBQ2xCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BFLENBQUM7O3VIQWhEVSx5QkFBeUI7MkdBQXpCLHlCQUF5QiwrSENQdEMscWhDQThCQTs0RkR2QmEseUJBQXlCO2tCQUxyQyxTQUFTOytCQUNFLG9CQUFvQjs4QkFLckIsUUFBUTtzQkFBaEIsS0FBSztnQkFDSSxRQUFRO3NCQUFqQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAndm5scC1maWxlLXVwbG9hZGVyJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vdm5scC1maWxlLXVwbG9hZGVyLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi92bmxwLWZpbGUtdXBsb2FkZXIuY29tcG9uZW50LnNjc3MnXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIFZubHBGaWxlVXBsb2FkZXJDb21wb25lbnQge1xyXG4gIEBJbnB1dCgpIG11bHRpcGxlOiBib29sZWFuID0gdHJ1ZTtcclxuICBAT3V0cHV0KCkgb25DaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgaGlnaGxpZ2h0RHJvcHpvbmUgPSBmYWxzZTtcclxuICBmaWxlTGlzdDogRmlsZVtdID0gW107XHJcblxyXG4gIGhhbmRsZUZpbGVJbnB1dCh7IGZpbGVzIH06IGFueSkge1xyXG4gICAgdGhpcy5maWxlTGlzdCA9IEFycmF5LmZyb20oZmlsZXMpO1xyXG4gICAgY29uc3QgZXhwb3J0RmlsZSA9XHJcbiAgICAgIHRoaXMuZmlsZUxpc3QubGVuZ3RoID09PSAxID8gdGhpcy5maWxlTGlzdFswXSA6IHRoaXMuZmlsZUxpc3Q7XHJcbiAgICB0aGlzLm9uQ2hhbmdlLmVtaXQoZXhwb3J0RmlsZSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEcm9wKGV2ZW50OiBEcmFnRXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBkYXRhVHJhbnNmZXIgPSBldmVudC5kYXRhVHJhbnNmZXI7XHJcbiAgICBpZiAoZGF0YVRyYW5zZmVyKSB7XHJcbiAgICAgIHRoaXMuZmlsZUxpc3QgPSBBcnJheS5mcm9tKGRhdGFUcmFuc2Zlci5maWxlcyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmhpZ2hsaWdodERyb3B6b25lID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEcmFnT3ZlcihldmVudDogYW55KSB7XHJcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnb24tZHJhZycpO1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZURyYWdMZWF2ZShldmVudDogYW55KSB7XHJcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnb24tZHJhZycpO1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIGZvcm1hdFNpemUoYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBjb25zdCBrYiA9IGJ5dGVzIC8gMTAyNDtcclxuICAgIGNvbnN0IG1iID0gYnl0ZXMgLyAxMDI0IC8gMTAyNDtcclxuICAgIGNvbnN0IGdiID0gbWIgLyAxMDI0O1xyXG5cclxuICAgIGlmIChrYiA8IDEwMCkge1xyXG4gICAgICByZXR1cm4ga2IudG9GaXhlZCgwKSArICcgS2InO1xyXG4gICAgfSBlbHNlIGlmIChnYiA+PSAxKSB7XHJcbiAgICAgIHJldHVybiBnYi50b0ZpeGVkKDEpICsgJyBHYic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbWIudG9GaXhlZCgxKSArICcgTWInO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlRmlsZShmaWxlOiBhbnkpIHtcclxuICAgIHRoaXMuZmlsZUxpc3QgPSB0aGlzLmZpbGVMaXN0LmZpbHRlcigoZikgPT4gZi5uYW1lICE9PSBmaWxlLm5hbWUpO1xyXG4gIH1cclxufVxyXG4iLCI8bGFiZWxcclxuICBmb3I9XCJmaWxlSW5wdXRcIlxyXG4gIGNsYXNzPVwiZmlsZS11cGxvYWRlci1jb250YWluZXJcIlxyXG4gIChkcm9wKT1cImhhbmRsZURyb3AoJGV2ZW50KVwiXHJcbiAgKGRyYWdvdmVyKT1cImhhbmRsZURyYWdPdmVyKCRldmVudClcIlxyXG4gIChkcmFnbGVhdmUpPVwiaGFuZGxlRHJhZ0xlYXZlKCRldmVudClcIlxyXG4+XHJcbiAgPGkgY2xhc3M9XCJpY29uIGljb24tdm5scC1pY29uLWRvY3VtZW50LXVwbG9hZC1saW5lYXJcIj48L2k+XHJcbiAgPHAgY2xhc3M9XCJmaWxlLWxhYmVsLXRleHRcIj5Ecm9wIGZpbGUgaGVyZSBvcjwvcD5cclxuICA8c3BhbiBjbGFzcz1cImZpbGUtbGFiZWxcIj5Ccm93c2U8L3NwYW4+XHJcbiAgPGlucHV0XHJcbiAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICBpZD1cImZpbGVJbnB1dFwiXHJcbiAgICBbbXVsdGlwbGVdPVwibXVsdGlwbGVcIlxyXG4gICAgKGNoYW5nZSk9XCJoYW5kbGVGaWxlSW5wdXQoJGV2ZW50LnRhcmdldClcIlxyXG4gICAgY2xhc3M9XCJoaWRkZW5cIlxyXG4gIC8+XHJcbjwvbGFiZWw+XHJcbjxkaXYgY2xhc3M9XCJmaWxlLWxpc3RcIj5cclxuICA8ZGl2ICpuZ0Zvcj1cImxldCBmaWxlIG9mIGZpbGVMaXN0XCIgY2xhc3M9XCJmaWxlLWl0ZW1cIj5cclxuICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1pY29uXCI+XHJcbiAgICAgIDxpIGNsYXNzPVwiaWNvbi12bmxwLWljb24tZmlsZS1lcmFzZS1saW5lXCI+PC9pPlxyXG4gICAgPC9zcGFuPlxyXG4gICAgPHNwYW4gY2xhc3M9XCJmaWxlLW5hbWVcIj57eyBmaWxlLm5hbWUgfX08L3NwYW4+XHJcbiAgICA8c3BhbiBjbGFzcz1cImZpbGUtc2l6ZVwiPnt7IGZvcm1hdFNpemUoZmlsZS5zaXplKSB9fTwvc3Bhbj5cclxuICAgIDxzcGFuIChjbGljayk9XCJkZWxldGVGaWxlKGZpbGUpXCIgY2xhc3M9XCJkZWxldGUtaWNvblwiPlxyXG4gICAgICA8aSBjbGFzcz1cImljb24gaWNvbi12bmxwLWljb24tY2xvc2UtY2lyY2xlLWxpbmVhclwiPjwvaT5cclxuICAgIDwvc3Bhbj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiJdfQ==