import { Component, Input, HostListener, Output, EventEmitter, ViewChild, } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class VnlpDropdownComponent {
    constructor(ele) {
        this.ele = ele;
        this.valueChange = new EventEmitter();
        this.tempListData = [];
        this.listData = [];
        this.dropDownSettings = {
            allowSearchFilter: true,
            singleSelection: true,
            placeholder: 'select option',
            dropdownWidth: '400px',
        };
        this.label = "label";
        this.isShowdataPanel = false;
        this.selectedOptions = [];
    }
    set data(val) {
        if (val && val.length > 0) {
            this.listData = val.map((x) => {
                x.isSelected = false;
                return x;
            });
            this.tempListData = val.map((x) => {
                x.isSelected = false;
                return x;
            });
        }
    }
    ;
    get userData() {
        return this.listData;
    }
    get empty() {
        return this.tempListData.length === 0;
    }
    //Handle selected option value
    selectOption(colIndex, data, isSelected) {
        if (!this.dropDownSettings.singleSelection) {
            //Case single selection
            this.userData[colIndex].isSelected = isSelected ? false : true;
            if (!isSelected) {
                let newSelectedObj = {
                    id: data.id,
                    value: data.value,
                };
                this.selectedOptions.push(newSelectedObj);
            }
            else {
                var dIndex = this.selectedOptions.findIndex((x) => x.id == data.id);
                this.selectedOptions.splice(dIndex, 1);
            }
            // emit changes
            this.changes(this.selectedOptions);
        }
        else {
            //Case multiple selection
            this.selectedOptions = [];
            this.userData[colIndex].isSelected = !this.userData[colIndex].isSelected;
            let newSelectedObj = {
                id: data.id,
                value: data.value,
            };
            this.selectedOptions.push(newSelectedObj);
            //emit changes
            this.changes(this.selectedOptions);
            this.toggleDataPanel();
        }
    }
    //Handle search item
    async handleSearch(value) {
        const val = value.toLowerCase();
        this.listData = await this.tempListData.filter((data) => {
            if (data.value.toLowerCase().indexOf(val) !== -1 || !val) {
                return data;
            }
            return;
        });
    }
    //Remove selected item
    removefromselected(sel, i) {
        var findIdex = this.userData.findIndex((x) => x.value == sel);
        this.userData[findIdex].isSelected = false;
        this.selectedOptions.splice(i, 1);
        //emit changes
        this.changes(this.selectedOptions);
    }
    //Handle change and emit value
    changes(selectedOptions) {
        if (selectedOptions.length > 0) {
            //case multiple selection emit list selection
            if (!this.dropDownSettings.singleSelection) {
                this.valueChange.emit(selectedOptions);
            }
            else {
                //case multiple selection emit selection
                this.valueChange.emit(selectedOptions[0]);
            }
        }
        else {
            this.valueChange.emit();
        }
    }
    toggleDataPanel() {
        this.isShowdataPanel = !this.isShowdataPanel;
    }
    ngOnInit() { }
    closeDropdown() {
        if (this.isShowdataPanel) {
            this.isShowdataPanel = false;
        }
    }
    //Handle close element when click outside dropdown container
    onBlur(e) {
        if (e.target === this.inputDropdownElement?.nativeElement ||
            this.inputDropdownElement?.nativeElement.contains(e.target)) {
            return;
        }
        if (e.target !== this.inputDropdownElement?.nativeElement &&
            !this.dropdownContainerElement?.nativeElement.contains(e.target)) {
            this.closeDropdown();
        }
    }
}
VnlpDropdownComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: VnlpDropdownComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });
VnlpDropdownComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: VnlpDropdownComponent, selector: "vnlp-dropdown", inputs: { dropDownSettings: "dropDownSettings", data: "data", label: "label" }, outputs: { valueChange: "valueChange" }, host: { listeners: { "document:click": "onBlur($event)" } }, viewQueries: [{ propertyName: "dropdownContainerElement", first: true, predicate: ["dropdownContainer"], descendants: true }, { propertyName: "inputDropdownElement", first: true, predicate: ["inputDropdown"], descendants: true }], ngImport: i0, template: "<div class=\"background-dropdown-container\">\r\n  <div class=\"label-text\">\r\n    {{ label }}\r\n    <i [class]=\"'icon-vnlp-icon-info-circle-linear'\"></i>\r\n  </div>\r\n  <div\r\n    tabindex=\"-1\"\r\n    class=\"main-dropdown-container\"\r\n    (click)=\"toggleDataPanel()\"\r\n    [ngStyle]=\"{ width: dropDownSettings.dropdownWidth }\"\r\n    #inputDropdown\r\n  >\r\n    <div *ngIf=\"!dropDownSettings.singleSelection\" class=\"element-selected\">\r\n      <div *ngFor=\"let sel of selectedOptions; let i = index\" class=\"item\">\r\n        <span>\r\n          {{ sel.value }}\r\n        </span>\r\n        <span\r\n          (click)=\"removefromselected(sel.value, i)\"\r\n          class=\"text-neutral-4 text-[18px] font-bold cursor-pointer\"\r\n        >\r\n          <i [class]=\"'icon-vnlp-icon-close-linear'\"></i>\r\n        </span>\r\n      </div>\r\n      <div *ngIf=\"selectedOptions.length < 1\">\r\n        <span class=\"overflow-hidden text-ellipsis whitespace-nowrap flex-1 text-sm text-neutral-5\">\r\n          {{ dropDownSettings.placeholder }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"dropDownSettings.singleSelection\" class=\"element-selected\">\r\n      <span *ngIf=\"selectedOptions.length > 0\">\r\n        {{ selectedOptions[0].value }}\r\n      </span>\r\n      <div *ngIf=\"selectedOptions.length < 1\">\r\n        <span class=\"overflow-hidden text-ellipsis whitespace-nowrap flex-1 text-sm text-neutral-5\">\r\n          {{ dropDownSettings.placeholder }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"flex\">\r\n      <span\r\n        [ngClass]=\"{ 'rotate-180': isShowdataPanel }\"\r\n        class=\"text-neutral-4 text-[20px] transition-all duration-500\"\r\n      >\r\n        <i [class]=\"'icon-vnlp-icon-arrow-down-1-linear'\"></i>\r\n      </span>\r\n    </div>\r\n  </div>\r\n  <!---data list panel-->\r\n  <div\r\n    *ngIf=\"isShowdataPanel\"\r\n    class=\"selected-item-container\"\r\n    [ngStyle]=\"{ width: dropDownSettings.dropdownWidth }\"\r\n    #dropdownContainer\r\n  >\r\n    <div *ngIf=\"empty\" class=\"flex justify-center items-center p-[20px]\">\r\n      <span>No Record Found</span>\r\n    </div>\r\n    <div *ngIf=\"!empty\" class=\"flex flex-col\">\r\n      <div *ngIf=\"dropDownSettings.allowSearchFilter\" class=\"search-input\">\r\n        <div class=\"flex items-center gap-[8px]\">\r\n          <span class=\"text-neutral-4 text-[20px] font-bold\">\r\n            <i [class]=\"'icon-vnlp-icon-search-normal-1-linear'\"></i>\r\n          </span>\r\n          <input\r\n            (keyup)=\"handleSearch(searchPara.value)\"\r\n            #searchPara\r\n            class=\"h-full w-full outline-none text-sm font-normal bg-transparent text-gray-700\"\r\n            name=\"\"\r\n            type=\"text\"\r\n            [placeholder]=\"'Search'\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div *ngFor=\"let data of userData; let i = index\" class=\"mt-[10px]\">\r\n        <div\r\n          *ngIf=\"!dropDownSettings.singleSelection\"\r\n          (click)=\"selectOption(i, data, data['isSelected'])\"\r\n          class=\"flex h-[47px] px-[10px] rounded-[8px] cursor-pointer items-center gap-[10px] hover:bg-neutral-7\"\r\n        >\r\n          <input\r\n            name=\"\"\r\n            #chkbox\r\n            type=\"checkbox\"\r\n            [checked]=\"data['isSelected']\"\r\n            class=\"w-[18px] h-[18px]\"\r\n          />\r\n          <div>{{ data.value }}</div>\r\n        </div>\r\n        <div\r\n          *ngIf=\"dropDownSettings.singleSelection\"\r\n          (click)=\"selectOption(i, data)\"\r\n          class=\"flex h-[47px] px-[10px] rounded-[8px] cursor-pointer items-center hover:bg-neutral-7\"\r\n        >\r\n          <div>{{ data.value }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".background-dropdown-container{position:absolute}.main-dropdown-container{display:flex;border:1.5px solid #e6e8ec;padding:12px 14px;font-weight:400;line-height:24px;justify-content:space-between;align-items:center;cursor:pointer;background-color:#fff;border-radius:10px}.main-dropdown-container:hover{border:1.5px solid #99cbfd}.main-dropdown-container:focus{border:1.5px solid #99cbfd}.element-selected{flex:auto;display:flex;flex-wrap:wrap;flex-direction:row;white-space:normal;max-width:80%;gap:5px}.element-selected .item{display:flex;font-weight:500;justify-content:center;gap:10px;align-items:center;height:34px;padding:5px 12px;font-size:14px;line-height:24px;border-radius:8px;background-color:#e6e8ec;color:#141416}.selected-item-container{padding:6px;border:1.5px solid #e6e8ec;border-radius:10px;background:#ffffff;margin-top:10px;box-shadow:0 1px 16px #0000000d;height:280px;overflow:auto}.selected-item-container::-webkit-scrollbar{width:2px}.selected-item-container::-webkit-scrollbar-thumb{background:#b1b5c3;border-radius:10px}.selected-item-container::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #fff;border-radius:10px}.search-input{display:flex;justify-content:space-between;align-items:center;width:100%;height:47px;border-radius:8px;background-color:#f4f5f6;padding:9px 12px 9px 8px}.search-input:hover{border:2px solid #b1b5c3;background-color:#fff}.search-input:focus-within{border:2px solid #007df9;background-color:#fff}.label-text{font-style:normal;font-weight:400;font-size:14px;line-height:24px;letter-spacing:.004em;color:#141416}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: VnlpDropdownComponent, decorators: [{
            type: Component,
            args: [{ selector: 'vnlp-dropdown', template: "<div class=\"background-dropdown-container\">\r\n  <div class=\"label-text\">\r\n    {{ label }}\r\n    <i [class]=\"'icon-vnlp-icon-info-circle-linear'\"></i>\r\n  </div>\r\n  <div\r\n    tabindex=\"-1\"\r\n    class=\"main-dropdown-container\"\r\n    (click)=\"toggleDataPanel()\"\r\n    [ngStyle]=\"{ width: dropDownSettings.dropdownWidth }\"\r\n    #inputDropdown\r\n  >\r\n    <div *ngIf=\"!dropDownSettings.singleSelection\" class=\"element-selected\">\r\n      <div *ngFor=\"let sel of selectedOptions; let i = index\" class=\"item\">\r\n        <span>\r\n          {{ sel.value }}\r\n        </span>\r\n        <span\r\n          (click)=\"removefromselected(sel.value, i)\"\r\n          class=\"text-neutral-4 text-[18px] font-bold cursor-pointer\"\r\n        >\r\n          <i [class]=\"'icon-vnlp-icon-close-linear'\"></i>\r\n        </span>\r\n      </div>\r\n      <div *ngIf=\"selectedOptions.length < 1\">\r\n        <span class=\"overflow-hidden text-ellipsis whitespace-nowrap flex-1 text-sm text-neutral-5\">\r\n          {{ dropDownSettings.placeholder }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"dropDownSettings.singleSelection\" class=\"element-selected\">\r\n      <span *ngIf=\"selectedOptions.length > 0\">\r\n        {{ selectedOptions[0].value }}\r\n      </span>\r\n      <div *ngIf=\"selectedOptions.length < 1\">\r\n        <span class=\"overflow-hidden text-ellipsis whitespace-nowrap flex-1 text-sm text-neutral-5\">\r\n          {{ dropDownSettings.placeholder }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"flex\">\r\n      <span\r\n        [ngClass]=\"{ 'rotate-180': isShowdataPanel }\"\r\n        class=\"text-neutral-4 text-[20px] transition-all duration-500\"\r\n      >\r\n        <i [class]=\"'icon-vnlp-icon-arrow-down-1-linear'\"></i>\r\n      </span>\r\n    </div>\r\n  </div>\r\n  <!---data list panel-->\r\n  <div\r\n    *ngIf=\"isShowdataPanel\"\r\n    class=\"selected-item-container\"\r\n    [ngStyle]=\"{ width: dropDownSettings.dropdownWidth }\"\r\n    #dropdownContainer\r\n  >\r\n    <div *ngIf=\"empty\" class=\"flex justify-center items-center p-[20px]\">\r\n      <span>No Record Found</span>\r\n    </div>\r\n    <div *ngIf=\"!empty\" class=\"flex flex-col\">\r\n      <div *ngIf=\"dropDownSettings.allowSearchFilter\" class=\"search-input\">\r\n        <div class=\"flex items-center gap-[8px]\">\r\n          <span class=\"text-neutral-4 text-[20px] font-bold\">\r\n            <i [class]=\"'icon-vnlp-icon-search-normal-1-linear'\"></i>\r\n          </span>\r\n          <input\r\n            (keyup)=\"handleSearch(searchPara.value)\"\r\n            #searchPara\r\n            class=\"h-full w-full outline-none text-sm font-normal bg-transparent text-gray-700\"\r\n            name=\"\"\r\n            type=\"text\"\r\n            [placeholder]=\"'Search'\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div *ngFor=\"let data of userData; let i = index\" class=\"mt-[10px]\">\r\n        <div\r\n          *ngIf=\"!dropDownSettings.singleSelection\"\r\n          (click)=\"selectOption(i, data, data['isSelected'])\"\r\n          class=\"flex h-[47px] px-[10px] rounded-[8px] cursor-pointer items-center gap-[10px] hover:bg-neutral-7\"\r\n        >\r\n          <input\r\n            name=\"\"\r\n            #chkbox\r\n            type=\"checkbox\"\r\n            [checked]=\"data['isSelected']\"\r\n            class=\"w-[18px] h-[18px]\"\r\n          />\r\n          <div>{{ data.value }}</div>\r\n        </div>\r\n        <div\r\n          *ngIf=\"dropDownSettings.singleSelection\"\r\n          (click)=\"selectOption(i, data)\"\r\n          class=\"flex h-[47px] px-[10px] rounded-[8px] cursor-pointer items-center hover:bg-neutral-7\"\r\n        >\r\n          <div>{{ data.value }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".background-dropdown-container{position:absolute}.main-dropdown-container{display:flex;border:1.5px solid #e6e8ec;padding:12px 14px;font-weight:400;line-height:24px;justify-content:space-between;align-items:center;cursor:pointer;background-color:#fff;border-radius:10px}.main-dropdown-container:hover{border:1.5px solid #99cbfd}.main-dropdown-container:focus{border:1.5px solid #99cbfd}.element-selected{flex:auto;display:flex;flex-wrap:wrap;flex-direction:row;white-space:normal;max-width:80%;gap:5px}.element-selected .item{display:flex;font-weight:500;justify-content:center;gap:10px;align-items:center;height:34px;padding:5px 12px;font-size:14px;line-height:24px;border-radius:8px;background-color:#e6e8ec;color:#141416}.selected-item-container{padding:6px;border:1.5px solid #e6e8ec;border-radius:10px;background:#ffffff;margin-top:10px;box-shadow:0 1px 16px #0000000d;height:280px;overflow:auto}.selected-item-container::-webkit-scrollbar{width:2px}.selected-item-container::-webkit-scrollbar-thumb{background:#b1b5c3;border-radius:10px}.selected-item-container::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #fff;border-radius:10px}.search-input{display:flex;justify-content:space-between;align-items:center;width:100%;height:47px;border-radius:8px;background-color:#f4f5f6;padding:9px 12px 9px 8px}.search-input:hover{border:2px solid #b1b5c3;background-color:#fff}.search-input:focus-within{border:2px solid #007df9;background-color:#fff}.label-text{font-style:normal;font-weight:400;font-size:14px;line-height:24px;letter-spacing:.004em;color:#141416}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { dropdownContainerElement: [{
                type: ViewChild,
                args: ['dropdownContainer']
            }], inputDropdownElement: [{
                type: ViewChild,
                args: ['inputDropdown']
            }], valueChange: [{
                type: Output
            }], dropDownSettings: [{
                type: Input
            }], data: [{
                type: Input
            }], label: [{
                type: Input
            }], onBlur: [{
                type: HostListener,
                args: ['document:click', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5scC1kcm9wZG93bi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy92YS91aS1zZGsvdm5scC1kcm9wZG93bi9zcmMvdm5scC1kcm9wZG93bi5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy92YS91aS1zZGsvdm5scC1kcm9wZG93bi9zcmMvdm5scC1kcm9wZG93bi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULEtBQUssRUFDTCxZQUFZLEVBRVosTUFBTSxFQUNOLFlBQVksRUFDWixTQUFTLEdBRVYsTUFBTSxlQUFlLENBQUM7OztBQVN2QixNQUFNLE9BQU8scUJBQXFCO0lBZ0NoQyxZQUFvQixHQUFlO1FBQWYsUUFBRyxHQUFILEdBQUcsQ0FBWTtRQTdCekIsZ0JBQVcsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQzNDLGlCQUFZLEdBQW1CLEVBQUUsQ0FBQztRQUNsQyxhQUFRLEdBQW1CLEVBQUUsQ0FBQztRQUNyQixxQkFBZ0IsR0FBb0I7WUFDM0MsaUJBQWlCLEVBQUUsSUFBSTtZQUN2QixlQUFlLEVBQUUsSUFBSTtZQUNyQixXQUFXLEVBQUUsZUFBZTtZQUM1QixhQUFhLEVBQUUsT0FBTztTQUN2QixDQUFDO1FBYU8sVUFBSyxHQUFXLE9BQU8sQ0FBQTtRQUtoQyxvQkFBZSxHQUFZLEtBQUssQ0FBQztRQUNqQyxvQkFBZSxHQUFtQixFQUFFLENBQUM7SUFFQyxDQUFDO0lBcEJ2QyxJQUFhLElBQUksQ0FBQyxHQUFtQjtRQUNuQyxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDNUIsQ0FBQyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7Z0JBQ3JCLE9BQU8sQ0FBQyxDQUFDO1lBQ1gsQ0FBQyxDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDaEMsQ0FBQyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7Z0JBQ3JCLE9BQU8sQ0FBQyxDQUFDO1lBQ1gsQ0FBQyxDQUFDLENBQUM7U0FDSjtJQUNILENBQUM7SUFBQSxDQUFDO0lBR0YsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3ZCLENBQUM7SUFNRCxJQUFJLEtBQUs7UUFDUCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsOEJBQThCO0lBQzlCLFlBQVksQ0FBQyxRQUFnQixFQUFFLElBQWtCLEVBQUUsVUFBb0I7UUFDckUsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFlLEVBQUU7WUFDMUMsdUJBQXVCO1lBQ3ZCLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDL0QsSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDZixJQUFJLGNBQWMsR0FBRztvQkFDbkIsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFO29CQUNYLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztpQkFDbEIsQ0FBQztnQkFDRixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQzthQUMzQztpQkFBTTtnQkFDTCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FDekMsQ0FBQyxDQUFlLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FDckMsQ0FBQztnQkFDRixJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDeEM7WUFFRCxlQUFlO1lBQ2YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7U0FDcEM7YUFBTTtZQUNMLHlCQUF5QjtZQUN6QixJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztZQUMxQixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFVBQVUsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsVUFBVSxDQUFDO1lBQ3pFLElBQUksY0FBYyxHQUFHO2dCQUNuQixFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUU7Z0JBQ1gsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO2FBQ2xCLENBQUM7WUFDRixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMxQyxjQUFjO1lBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ3hCO0lBQ0gsQ0FBQztJQUVELG9CQUFvQjtJQUNwQixLQUFLLENBQUMsWUFBWSxDQUFDLEtBQWE7UUFDOUIsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQWtCLEVBQUUsRUFBRTtZQUNwRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUN4RCxPQUFPLElBQUksQ0FBQzthQUNiO1lBQ0QsT0FBTztRQUNULENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELHNCQUFzQjtJQUN0QixrQkFBa0IsQ0FBQyxHQUFXLEVBQUUsQ0FBUztRQUN2QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQWUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxHQUFHLENBQUMsQ0FBQztRQUM1RSxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDM0MsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRWxDLGNBQWM7UUFDZCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsOEJBQThCO0lBQzlCLE9BQU8sQ0FBQyxlQUErQjtRQUNyQyxJQUFJLGVBQWUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQzlCLDZDQUE2QztZQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsRUFBRTtnQkFDMUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7YUFDeEM7aUJBQU07Z0JBQ0wsd0NBQXdDO2dCQUN4QyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMzQztTQUNGO2FBQU07WUFDTCxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQztJQUVELGVBQWU7UUFDYixJQUFJLENBQUMsZUFBZSxHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztJQUMvQyxDQUFDO0lBRUQsUUFBUSxLQUFVLENBQUM7SUFFbkIsYUFBYTtRQUNYLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN4QixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztTQUM5QjtJQUNILENBQUM7SUFFRCw0REFBNEQ7SUFDaEIsTUFBTSxDQUFDLENBQWE7UUFDOUQsSUFDRSxDQUFDLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxhQUFhO1lBQ3JELElBQUksQ0FBQyxvQkFBb0IsRUFBRSxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFDM0Q7WUFDQSxPQUFPO1NBQ1I7UUFFRCxJQUNFLENBQUMsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLG9CQUFvQixFQUFFLGFBQWE7WUFDckQsQ0FBQyxJQUFJLENBQUMsd0JBQXdCLEVBQUUsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQ2hFO1lBQ0EsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3RCO0lBQ0gsQ0FBQzs7bUhBeElVLHFCQUFxQjt1R0FBckIscUJBQXFCLGtkQ2xCbEMsNHpIQXFHQTs0RkRuRmEscUJBQXFCO2tCQUxqQyxTQUFTOytCQUNFLGVBQWU7aUdBS08sd0JBQXdCO3NCQUF2RCxTQUFTO3VCQUFDLG1CQUFtQjtnQkFDRixvQkFBb0I7c0JBQS9DLFNBQVM7dUJBQUMsZUFBZTtnQkFDaEIsV0FBVztzQkFBcEIsTUFBTTtnQkFHRSxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBTU8sSUFBSTtzQkFBaEIsS0FBSztnQkFZRyxLQUFLO3NCQUFiLEtBQUs7Z0JBa0dzQyxNQUFNO3NCQUFqRCxZQUFZO3VCQUFDLGdCQUFnQixFQUFFLENBQUMsUUFBUSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb21wb25lbnQsXHJcbiAgSW5wdXQsXHJcbiAgSG9zdExpc3RlbmVyLFxyXG4gIEVsZW1lbnRSZWYsXHJcbiAgT3V0cHV0LFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBWaWV3Q2hpbGQsXHJcbiAgT25Jbml0LFxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgRHJvcERvd25TZXR0aW5nLCBJdGVtU2VsZWN0ZWQgfSBmcm9tICcuL21vZGVscy92bmxwLWRyb3Bkb3duLm1vZGVsJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAndm5scC1kcm9wZG93bicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3ZubHAtZHJvcGRvd24uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3ZubHAtZHJvcGRvd24uY29tcG9uZW50LnNjc3MnXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIFZubHBEcm9wZG93bkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgQFZpZXdDaGlsZCgnZHJvcGRvd25Db250YWluZXInKSBkcm9wZG93bkNvbnRhaW5lckVsZW1lbnQ/OiBFbGVtZW50UmVmO1xyXG4gIEBWaWV3Q2hpbGQoJ2lucHV0RHJvcGRvd24nKSBpbnB1dERyb3Bkb3duRWxlbWVudD86IEVsZW1lbnRSZWY7XHJcbiAgQE91dHB1dCgpIHZhbHVlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIHRlbXBMaXN0RGF0YTogSXRlbVNlbGVjdGVkW10gPSBbXTtcclxuICBsaXN0RGF0YTogSXRlbVNlbGVjdGVkW10gPSBbXTtcclxuICBASW5wdXQoKSBkcm9wRG93blNldHRpbmdzOiBEcm9wRG93blNldHRpbmcgPSB7XHJcbiAgICBhbGxvd1NlYXJjaEZpbHRlcjogdHJ1ZSxcclxuICAgIHNpbmdsZVNlbGVjdGlvbjogdHJ1ZSxcclxuICAgIHBsYWNlaG9sZGVyOiAnc2VsZWN0IG9wdGlvbicsXHJcbiAgICBkcm9wZG93bldpZHRoOiAnNDAwcHgnLFxyXG4gIH07XHJcbiAgQElucHV0KCkgc2V0IGRhdGEodmFsOiBJdGVtU2VsZWN0ZWRbXSkge1xyXG4gICAgaWYgKHZhbCAmJiB2YWwubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLmxpc3REYXRhID0gdmFsLm1hcCgoeCkgPT4ge1xyXG4gICAgICAgIHguaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB4O1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy50ZW1wTGlzdERhdGEgPSB2YWwubWFwKCh4KSA9PiB7XHJcbiAgICAgICAgeC5pc1NlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgQElucHV0KCkgbGFiZWw6IHN0cmluZyA9IFwibGFiZWxcIlxyXG5cclxuICBnZXQgdXNlckRhdGEoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5saXN0RGF0YTtcclxuICB9XHJcbiAgaXNTaG93ZGF0YVBhbmVsOiBib29sZWFuID0gZmFsc2U7XHJcbiAgc2VsZWN0ZWRPcHRpb25zOiBJdGVtU2VsZWN0ZWRbXSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZTogRWxlbWVudFJlZikge31cclxuXHJcbiAgZ2V0IGVtcHR5KCkge1xyXG4gICAgcmV0dXJuIHRoaXMudGVtcExpc3REYXRhLmxlbmd0aCA9PT0gMDtcclxuICB9XHJcblxyXG4gIC8vSGFuZGxlIHNlbGVjdGVkIG9wdGlvbiB2YWx1ZVxyXG4gIHNlbGVjdE9wdGlvbihjb2xJbmRleDogbnVtYmVyLCBkYXRhOiBJdGVtU2VsZWN0ZWQsIGlzU2VsZWN0ZWQ/OiBib29sZWFuKSB7XHJcbiAgICBpZiAoIXRoaXMuZHJvcERvd25TZXR0aW5ncy5zaW5nbGVTZWxlY3Rpb24pIHtcclxuICAgICAgLy9DYXNlIHNpbmdsZSBzZWxlY3Rpb25cclxuICAgICAgdGhpcy51c2VyRGF0YVtjb2xJbmRleF0uaXNTZWxlY3RlZCA9IGlzU2VsZWN0ZWQgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgIGlmICghaXNTZWxlY3RlZCkge1xyXG4gICAgICAgIGxldCBuZXdTZWxlY3RlZE9iaiA9IHtcclxuICAgICAgICAgIGlkOiBkYXRhLmlkLFxyXG4gICAgICAgICAgdmFsdWU6IGRhdGEudmFsdWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9ucy5wdXNoKG5ld1NlbGVjdGVkT2JqKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgZEluZGV4ID0gdGhpcy5zZWxlY3RlZE9wdGlvbnMuZmluZEluZGV4KFxyXG4gICAgICAgICAgKHg6IEl0ZW1TZWxlY3RlZCkgPT4geC5pZCA9PSBkYXRhLmlkXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9ucy5zcGxpY2UoZEluZGV4LCAxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZW1pdCBjaGFuZ2VzXHJcbiAgICAgIHRoaXMuY2hhbmdlcyh0aGlzLnNlbGVjdGVkT3B0aW9ucyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvL0Nhc2UgbXVsdGlwbGUgc2VsZWN0aW9uXHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25zID0gW107XHJcbiAgICAgIHRoaXMudXNlckRhdGFbY29sSW5kZXhdLmlzU2VsZWN0ZWQgPSAhdGhpcy51c2VyRGF0YVtjb2xJbmRleF0uaXNTZWxlY3RlZDtcclxuICAgICAgbGV0IG5ld1NlbGVjdGVkT2JqID0ge1xyXG4gICAgICAgIGlkOiBkYXRhLmlkLFxyXG4gICAgICAgIHZhbHVlOiBkYXRhLnZhbHVlLFxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLnNlbGVjdGVkT3B0aW9ucy5wdXNoKG5ld1NlbGVjdGVkT2JqKTtcclxuICAgICAgLy9lbWl0IGNoYW5nZXNcclxuICAgICAgdGhpcy5jaGFuZ2VzKHRoaXMuc2VsZWN0ZWRPcHRpb25zKTtcclxuICAgICAgdGhpcy50b2dnbGVEYXRhUGFuZWwoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vSGFuZGxlIHNlYXJjaCBpdGVtXHJcbiAgYXN5bmMgaGFuZGxlU2VhcmNoKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHZhbCA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLmxpc3REYXRhID0gYXdhaXQgdGhpcy50ZW1wTGlzdERhdGEuZmlsdGVyKChkYXRhOiBJdGVtU2VsZWN0ZWQpID0+IHtcclxuICAgICAgaWYgKGRhdGEudmFsdWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZhbCkgIT09IC0xIHx8ICF2YWwpIHtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm47XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vUmVtb3ZlIHNlbGVjdGVkIGl0ZW1cclxuICByZW1vdmVmcm9tc2VsZWN0ZWQoc2VsOiBzdHJpbmcsIGk6IG51bWJlcikge1xyXG4gICAgdmFyIGZpbmRJZGV4ID0gdGhpcy51c2VyRGF0YS5maW5kSW5kZXgoKHg6IEl0ZW1TZWxlY3RlZCkgPT4geC52YWx1ZSA9PSBzZWwpO1xyXG4gICAgdGhpcy51c2VyRGF0YVtmaW5kSWRleF0uaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZWxlY3RlZE9wdGlvbnMuc3BsaWNlKGksIDEpO1xyXG5cclxuICAgIC8vZW1pdCBjaGFuZ2VzXHJcbiAgICB0aGlzLmNoYW5nZXModGhpcy5zZWxlY3RlZE9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgLy9IYW5kbGUgY2hhbmdlIGFuZCBlbWl0IHZhbHVlXHJcbiAgY2hhbmdlcyhzZWxlY3RlZE9wdGlvbnM6IEl0ZW1TZWxlY3RlZFtdKSB7XHJcbiAgICBpZiAoc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgLy9jYXNlIG11bHRpcGxlIHNlbGVjdGlvbiBlbWl0IGxpc3Qgc2VsZWN0aW9uXHJcbiAgICAgIGlmICghdGhpcy5kcm9wRG93blNldHRpbmdzLnNpbmdsZVNlbGVjdGlvbikge1xyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdChzZWxlY3RlZE9wdGlvbnMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vY2FzZSBtdWx0aXBsZSBzZWxlY3Rpb24gZW1pdCBzZWxlY3Rpb25cclxuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlLmVtaXQoc2VsZWN0ZWRPcHRpb25zWzBdKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy52YWx1ZUNoYW5nZS5lbWl0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVEYXRhUGFuZWwoKSB7XHJcbiAgICB0aGlzLmlzU2hvd2RhdGFQYW5lbCA9ICF0aGlzLmlzU2hvd2RhdGFQYW5lbDtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge31cclxuXHJcbiAgY2xvc2VEcm9wZG93bigpIHtcclxuICAgIGlmICh0aGlzLmlzU2hvd2RhdGFQYW5lbCkge1xyXG4gICAgICB0aGlzLmlzU2hvd2RhdGFQYW5lbCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9IYW5kbGUgY2xvc2UgZWxlbWVudCB3aGVuIGNsaWNrIG91dHNpZGUgZHJvcGRvd24gY29udGFpbmVyXHJcbiAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6Y2xpY2snLCBbJyRldmVudCddKSBvbkJsdXIoZTogTW91c2VFdmVudCkge1xyXG4gICAgaWYgKFxyXG4gICAgICBlLnRhcmdldCA9PT0gdGhpcy5pbnB1dERyb3Bkb3duRWxlbWVudD8ubmF0aXZlRWxlbWVudCB8fFxyXG4gICAgICB0aGlzLmlucHV0RHJvcGRvd25FbGVtZW50Py5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGUudGFyZ2V0ICE9PSB0aGlzLmlucHV0RHJvcGRvd25FbGVtZW50Py5uYXRpdmVFbGVtZW50ICYmXHJcbiAgICAgICF0aGlzLmRyb3Bkb3duQ29udGFpbmVyRWxlbWVudD8ubmF0aXZlRWxlbWVudC5jb250YWlucyhlLnRhcmdldClcclxuICAgICkge1xyXG4gICAgICB0aGlzLmNsb3NlRHJvcGRvd24oKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cImJhY2tncm91bmQtZHJvcGRvd24tY29udGFpbmVyXCI+XHJcbiAgPGRpdiBjbGFzcz1cImxhYmVsLXRleHRcIj5cclxuICAgIHt7IGxhYmVsIH19XHJcbiAgICA8aSBbY2xhc3NdPVwiJ2ljb24tdm5scC1pY29uLWluZm8tY2lyY2xlLWxpbmVhcidcIj48L2k+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdlxyXG4gICAgdGFiaW5kZXg9XCItMVwiXHJcbiAgICBjbGFzcz1cIm1haW4tZHJvcGRvd24tY29udGFpbmVyXCJcclxuICAgIChjbGljayk9XCJ0b2dnbGVEYXRhUGFuZWwoKVwiXHJcbiAgICBbbmdTdHlsZV09XCJ7IHdpZHRoOiBkcm9wRG93blNldHRpbmdzLmRyb3Bkb3duV2lkdGggfVwiXHJcbiAgICAjaW5wdXREcm9wZG93blxyXG4gID5cclxuICAgIDxkaXYgKm5nSWY9XCIhZHJvcERvd25TZXR0aW5ncy5zaW5nbGVTZWxlY3Rpb25cIiBjbGFzcz1cImVsZW1lbnQtc2VsZWN0ZWRcIj5cclxuICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgc2VsIG9mIHNlbGVjdGVkT3B0aW9uczsgbGV0IGkgPSBpbmRleFwiIGNsYXNzPVwiaXRlbVwiPlxyXG4gICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAge3sgc2VsLnZhbHVlIH19XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAoY2xpY2spPVwicmVtb3ZlZnJvbXNlbGVjdGVkKHNlbC52YWx1ZSwgaSlcIlxyXG4gICAgICAgICAgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNCB0ZXh0LVsxOHB4XSBmb250LWJvbGQgY3Vyc29yLXBvaW50ZXJcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxpIFtjbGFzc109XCInaWNvbi12bmxwLWljb24tY2xvc2UtbGluZWFyJ1wiPjwvaT5cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2ICpuZ0lmPVwic2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA8IDFcIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cIm92ZXJmbG93LWhpZGRlbiB0ZXh0LWVsbGlwc2lzIHdoaXRlc3BhY2Utbm93cmFwIGZsZXgtMSB0ZXh0LXNtIHRleHQtbmV1dHJhbC01XCI+XHJcbiAgICAgICAgICB7eyBkcm9wRG93blNldHRpbmdzLnBsYWNlaG9sZGVyIH19XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiAqbmdJZj1cImRyb3BEb3duU2V0dGluZ3Muc2luZ2xlU2VsZWN0aW9uXCIgY2xhc3M9XCJlbGVtZW50LXNlbGVjdGVkXCI+XHJcbiAgICAgIDxzcGFuICpuZ0lmPVwic2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA+IDBcIj5cclxuICAgICAgICB7eyBzZWxlY3RlZE9wdGlvbnNbMF0udmFsdWUgfX1cclxuICAgICAgPC9zcGFuPlxyXG4gICAgICA8ZGl2ICpuZ0lmPVwic2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA8IDFcIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cIm92ZXJmbG93LWhpZGRlbiB0ZXh0LWVsbGlwc2lzIHdoaXRlc3BhY2Utbm93cmFwIGZsZXgtMSB0ZXh0LXNtIHRleHQtbmV1dHJhbC01XCI+XHJcbiAgICAgICAgICB7eyBkcm9wRG93blNldHRpbmdzLnBsYWNlaG9sZGVyIH19XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImZsZXhcIj5cclxuICAgICAgPHNwYW5cclxuICAgICAgICBbbmdDbGFzc109XCJ7ICdyb3RhdGUtMTgwJzogaXNTaG93ZGF0YVBhbmVsIH1cIlxyXG4gICAgICAgIGNsYXNzPVwidGV4dC1uZXV0cmFsLTQgdGV4dC1bMjBweF0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNTAwXCJcclxuICAgICAgPlxyXG4gICAgICAgIDxpIFtjbGFzc109XCInaWNvbi12bmxwLWljb24tYXJyb3ctZG93bi0xLWxpbmVhcidcIj48L2k+XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG4gIDwhLS0tZGF0YSBsaXN0IHBhbmVsLS0+XHJcbiAgPGRpdlxyXG4gICAgKm5nSWY9XCJpc1Nob3dkYXRhUGFuZWxcIlxyXG4gICAgY2xhc3M9XCJzZWxlY3RlZC1pdGVtLWNvbnRhaW5lclwiXHJcbiAgICBbbmdTdHlsZV09XCJ7IHdpZHRoOiBkcm9wRG93blNldHRpbmdzLmRyb3Bkb3duV2lkdGggfVwiXHJcbiAgICAjZHJvcGRvd25Db250YWluZXJcclxuICA+XHJcbiAgICA8ZGl2ICpuZ0lmPVwiZW1wdHlcIiBjbGFzcz1cImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHAtWzIwcHhdXCI+XHJcbiAgICAgIDxzcGFuPk5vIFJlY29yZCBGb3VuZDwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiAqbmdJZj1cIiFlbXB0eVwiIGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxyXG4gICAgICA8ZGl2ICpuZ0lmPVwiZHJvcERvd25TZXR0aW5ncy5hbGxvd1NlYXJjaEZpbHRlclwiIGNsYXNzPVwic2VhcmNoLWlucHV0XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC1bOHB4XVwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNCB0ZXh0LVsyMHB4XSBmb250LWJvbGRcIj5cclxuICAgICAgICAgICAgPGkgW2NsYXNzXT1cIidpY29uLXZubHAtaWNvbi1zZWFyY2gtbm9ybWFsLTEtbGluZWFyJ1wiPjwvaT5cclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAoa2V5dXApPVwiaGFuZGxlU2VhcmNoKHNlYXJjaFBhcmEudmFsdWUpXCJcclxuICAgICAgICAgICAgI3NlYXJjaFBhcmFcclxuICAgICAgICAgICAgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIG91dGxpbmUtbm9uZSB0ZXh0LXNtIGZvbnQtbm9ybWFsIGJnLXRyYW5zcGFyZW50IHRleHQtZ3JheS03MDBcIlxyXG4gICAgICAgICAgICBuYW1lPVwiXCJcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICBbcGxhY2Vob2xkZXJdPVwiJ1NlYXJjaCdcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgKm5nRm9yPVwibGV0IGRhdGEgb2YgdXNlckRhdGE7IGxldCBpID0gaW5kZXhcIiBjbGFzcz1cIm10LVsxMHB4XVwiPlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgICpuZ0lmPVwiIWRyb3BEb3duU2V0dGluZ3Muc2luZ2xlU2VsZWN0aW9uXCJcclxuICAgICAgICAgIChjbGljayk9XCJzZWxlY3RPcHRpb24oaSwgZGF0YSwgZGF0YVsnaXNTZWxlY3RlZCddKVwiXHJcbiAgICAgICAgICBjbGFzcz1cImZsZXggaC1bNDdweF0gcHgtWzEwcHhdIHJvdW5kZWQtWzhweF0gY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGdhcC1bMTBweF0gaG92ZXI6YmctbmV1dHJhbC03XCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgbmFtZT1cIlwiXHJcbiAgICAgICAgICAgICNjaGtib3hcclxuICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgW2NoZWNrZWRdPVwiZGF0YVsnaXNTZWxlY3RlZCddXCJcclxuICAgICAgICAgICAgY2xhc3M9XCJ3LVsxOHB4XSBoLVsxOHB4XVwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPGRpdj57eyBkYXRhLnZhbHVlIH19PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgKm5nSWY9XCJkcm9wRG93blNldHRpbmdzLnNpbmdsZVNlbGVjdGlvblwiXHJcbiAgICAgICAgICAoY2xpY2spPVwic2VsZWN0T3B0aW9uKGksIGRhdGEpXCJcclxuICAgICAgICAgIGNsYXNzPVwiZmxleCBoLVs0N3B4XSBweC1bMTBweF0gcm91bmRlZC1bOHB4XSBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIgaG92ZXI6YmctbmV1dHJhbC03XCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2Pnt7IGRhdGEudmFsdWUgfX08L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiJdfQ==