{"version":3,"file":"em-and-ai-ui-sdk-vnlp-dropdown.mjs","sources":["../../../../projects/va/ui-sdk/vnlp-dropdown/src/vnlp-dropdown.component.ts","../../../../projects/va/ui-sdk/vnlp-dropdown/src/vnlp-dropdown.component.html","../../../../projects/va/ui-sdk/vnlp-dropdown/src/vnlp-dropdown.module.ts","../../../../projects/va/ui-sdk/vnlp-dropdown/em-and-ai-ui-sdk-vnlp-dropdown.ts"],"sourcesContent":["import {\r\n  Component,\r\n  Input,\r\n  HostListener,\r\n  ElementRef,\r\n  Output,\r\n  EventEmitter,\r\n  ViewChild,\r\n  OnInit,\r\n} from '@angular/core';\r\n\r\nimport { DropDownSetting, ItemSelected } from './models/vnlp-dropdown.model';\r\n\r\n@Component({\r\n  selector: 'vnlp-dropdown',\r\n  templateUrl: './vnlp-dropdown.component.html',\r\n  styleUrls: ['./vnlp-dropdown.component.scss'],\r\n})\r\nexport class VnlpDropdownComponent implements OnInit {\r\n  @ViewChild('dropdownContainer') dropdownContainerElement?: ElementRef;\r\n  @ViewChild('inputDropdown') inputDropdownElement?: ElementRef;\r\n  @Output() valueChange = new EventEmitter();\r\n  tempListData: ItemSelected[] = [];\r\n  listData: ItemSelected[] = [];\r\n  @Input() dropDownSettings: DropDownSetting = {\r\n    allowSearchFilter: true,\r\n    singleSelection: true,\r\n    placeholder: 'select option',\r\n    dropdownWidth: '400px',\r\n  };\r\n  @Input() set data(val: ItemSelected[]) {\r\n    if (val && val.length > 0) {\r\n      this.listData = val.map((x) => {\r\n        x.isSelected = false;\r\n        return x;\r\n      });\r\n      this.tempListData = val.map((x) => {\r\n        x.isSelected = false;\r\n        return x;\r\n      });\r\n    }\r\n  };\r\n  @Input() label: string = \"label\"\r\n\r\n  get userData() {\r\n    return this.listData;\r\n  }\r\n  isShowdataPanel: boolean = false;\r\n  selectedOptions: ItemSelected[] = [];\r\n\r\n  constructor(private ele: ElementRef) {}\r\n\r\n  get empty() {\r\n    return this.tempListData.length === 0;\r\n  }\r\n\r\n  //Handle selected option value\r\n  selectOption(colIndex: number, data: ItemSelected, isSelected?: boolean) {\r\n    if (!this.dropDownSettings.singleSelection) {\r\n      //Case single selection\r\n      this.userData[colIndex].isSelected = isSelected ? false : true;\r\n      if (!isSelected) {\r\n        let newSelectedObj = {\r\n          id: data.id,\r\n          value: data.value,\r\n        };\r\n        this.selectedOptions.push(newSelectedObj);\r\n      } else {\r\n        var dIndex = this.selectedOptions.findIndex(\r\n          (x: ItemSelected) => x.id == data.id\r\n        );\r\n        this.selectedOptions.splice(dIndex, 1);\r\n      }\r\n\r\n      // emit changes\r\n      this.changes(this.selectedOptions);\r\n    } else {\r\n      //Case multiple selection\r\n      this.selectedOptions = [];\r\n      this.userData[colIndex].isSelected = !this.userData[colIndex].isSelected;\r\n      let newSelectedObj = {\r\n        id: data.id,\r\n        value: data.value,\r\n      };\r\n      this.selectedOptions.push(newSelectedObj);\r\n      //emit changes\r\n      this.changes(this.selectedOptions);\r\n      this.toggleDataPanel();\r\n    }\r\n  }\r\n\r\n  //Handle search item\r\n  async handleSearch(value: string) {\r\n    const val = value.toLowerCase();\r\n    this.listData = await this.tempListData.filter((data: ItemSelected) => {\r\n      if (data.value.toLowerCase().indexOf(val) !== -1 || !val) {\r\n        return data;\r\n      }\r\n      return;\r\n    });\r\n  }\r\n\r\n  //Remove selected item\r\n  removefromselected(sel: string, i: number) {\r\n    var findIdex = this.userData.findIndex((x: ItemSelected) => x.value == sel);\r\n    this.userData[findIdex].isSelected = false;\r\n    this.selectedOptions.splice(i, 1);\r\n\r\n    //emit changes\r\n    this.changes(this.selectedOptions);\r\n  }\r\n\r\n  //Handle change and emit value\r\n  changes(selectedOptions: ItemSelected[]) {\r\n    if (selectedOptions.length > 0) {\r\n      //case multiple selection emit list selection\r\n      if (!this.dropDownSettings.singleSelection) {\r\n        this.valueChange.emit(selectedOptions);\r\n      } else {\r\n        //case multiple selection emit selection\r\n        this.valueChange.emit(selectedOptions[0]);\r\n      }\r\n    } else {\r\n      this.valueChange.emit();\r\n    }\r\n  }\r\n\r\n  toggleDataPanel() {\r\n    this.isShowdataPanel = !this.isShowdataPanel;\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  closeDropdown() {\r\n    if (this.isShowdataPanel) {\r\n      this.isShowdataPanel = false;\r\n    }\r\n  }\r\n\r\n  //Handle close element when click outside dropdown container\r\n  @HostListener('document:click', ['$event']) onBlur(e: MouseEvent) {\r\n    if (\r\n      e.target === this.inputDropdownElement?.nativeElement ||\r\n      this.inputDropdownElement?.nativeElement.contains(e.target)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      e.target !== this.inputDropdownElement?.nativeElement &&\r\n      !this.dropdownContainerElement?.nativeElement.contains(e.target)\r\n    ) {\r\n      this.closeDropdown();\r\n    }\r\n  }\r\n}\r\n","<div class=\"background-dropdown-container\">\r\n  <div class=\"label-text\">\r\n    {{ label }}\r\n    <i [class]=\"'icon-vnlp-icon-info-circle-linear'\"></i>\r\n  </div>\r\n  <div\r\n    tabindex=\"-1\"\r\n    class=\"main-dropdown-container\"\r\n    (click)=\"toggleDataPanel()\"\r\n    [ngStyle]=\"{ width: dropDownSettings.dropdownWidth }\"\r\n    #inputDropdown\r\n  >\r\n    <div *ngIf=\"!dropDownSettings.singleSelection\" class=\"element-selected\">\r\n      <div *ngFor=\"let sel of selectedOptions; let i = index\" class=\"item\">\r\n        <span>\r\n          {{ sel.value }}\r\n        </span>\r\n        <span\r\n          (click)=\"removefromselected(sel.value, i)\"\r\n          class=\"text-neutral-4 text-[18px] font-bold cursor-pointer\"\r\n        >\r\n          <i [class]=\"'icon-vnlp-icon-close-linear'\"></i>\r\n        </span>\r\n      </div>\r\n      <div *ngIf=\"selectedOptions.length < 1\">\r\n        <span class=\"overflow-hidden text-ellipsis whitespace-nowrap flex-1 text-sm text-neutral-5\">\r\n          {{ dropDownSettings.placeholder }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"dropDownSettings.singleSelection\" class=\"element-selected\">\r\n      <span *ngIf=\"selectedOptions.length > 0\">\r\n        {{ selectedOptions[0].value }}\r\n      </span>\r\n      <div *ngIf=\"selectedOptions.length < 1\">\r\n        <span class=\"overflow-hidden text-ellipsis whitespace-nowrap flex-1 text-sm text-neutral-5\">\r\n          {{ dropDownSettings.placeholder }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"flex\">\r\n      <span\r\n        [ngClass]=\"{ 'rotate-180': isShowdataPanel }\"\r\n        class=\"text-neutral-4 text-[20px] transition-all duration-500\"\r\n      >\r\n        <i [class]=\"'icon-vnlp-icon-arrow-down-1-linear'\"></i>\r\n      </span>\r\n    </div>\r\n  </div>\r\n  <!---data list panel-->\r\n  <div\r\n    *ngIf=\"isShowdataPanel\"\r\n    class=\"selected-item-container\"\r\n    [ngStyle]=\"{ width: dropDownSettings.dropdownWidth }\"\r\n    #dropdownContainer\r\n  >\r\n    <div *ngIf=\"empty\" class=\"flex justify-center items-center p-[20px]\">\r\n      <span>No Record Found</span>\r\n    </div>\r\n    <div *ngIf=\"!empty\" class=\"flex flex-col\">\r\n      <div *ngIf=\"dropDownSettings.allowSearchFilter\" class=\"search-input\">\r\n        <div class=\"flex items-center gap-[8px]\">\r\n          <span class=\"text-neutral-4 text-[20px] font-bold\">\r\n            <i [class]=\"'icon-vnlp-icon-search-normal-1-linear'\"></i>\r\n          </span>\r\n          <input\r\n            (keyup)=\"handleSearch(searchPara.value)\"\r\n            #searchPara\r\n            class=\"h-full w-full outline-none text-sm font-normal bg-transparent text-gray-700\"\r\n            name=\"\"\r\n            type=\"text\"\r\n            [placeholder]=\"'Search'\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div *ngFor=\"let data of userData; let i = index\" class=\"mt-[10px]\">\r\n        <div\r\n          *ngIf=\"!dropDownSettings.singleSelection\"\r\n          (click)=\"selectOption(i, data, data['isSelected'])\"\r\n          class=\"flex h-[47px] px-[10px] rounded-[8px] cursor-pointer items-center gap-[10px] hover:bg-neutral-7\"\r\n        >\r\n          <input\r\n            name=\"\"\r\n            #chkbox\r\n            type=\"checkbox\"\r\n            [checked]=\"data['isSelected']\"\r\n            class=\"w-[18px] h-[18px]\"\r\n          />\r\n          <div>{{ data.value }}</div>\r\n        </div>\r\n        <div\r\n          *ngIf=\"dropDownSettings.singleSelection\"\r\n          (click)=\"selectOption(i, data)\"\r\n          class=\"flex h-[47px] px-[10px] rounded-[8px] cursor-pointer items-center hover:bg-neutral-7\"\r\n        >\r\n          <div>{{ data.value }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VnlpDropdownComponent } from './vnlp-dropdown.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [VnlpDropdownComponent],\r\n  imports: [CommonModule, FormsModule],\r\n  exports: [VnlpDropdownComponent],\r\n})\r\nexport class VnlpDropdownModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}